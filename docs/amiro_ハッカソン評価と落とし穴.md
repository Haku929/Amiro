# Amiro ハッカソン評価：5日間・5人体制

企画書・仕様書に基づく評価と、想定される落とし穴の整理です。

---

## 1. 全体評価

### 良い点

| 観点 | 評価 |
| --- | --- |
| **コンセプトの一貫性** | 「好きな自分でいられる相手」という軸が企画・仕様・UXで揃っており、デモで伝えやすい。 |
| **技術選定** | Next.js + Supabase + Gemini + Recharts は、ハッカソンで実装しやすく、役割分担もしやすい。 |
| **仕様の具体性** | APIスキーマ・データ型・TODOが細かく、誰が何をやるか切り出しやすい。 |
| **スコープの輪郭** | 7画面・3スロット・10往復チャットなど上限が決まっており、 feature creep を防ぎやすい。 |

### きつくなりがちな点

- **5日でやるにはやや多め**：DB・認証・7 API・7画面・AI 3系統（対話・分析・解説）・マッチング計算・チャートを全部やると、結合・デバッグの時間が削られやすい。
- **AI に依存する箇所が多い**：対話・分析・解説のいずれかが遅れると、体験の核が止まる。特に「会話→分析→レポート」のパイプラインは最優先で繋ぐ必要がある。

### バイブコーディング前提の時間コスト

バイブコーディング（コーディングエージェントと一緒に進める開発）なら、ボイラープレート・API・UI部品の生成が速く、**5人×エージェント**で実装量は稼ぎやすい。そのぶん「5日でやや多め」だったスコープは、**きつくない可能性が高い**。

- **活かし方**：仕様書・APIスキーマをエージェントに渡して「この契約で実装して」と依頼し、人が設計と結合・テストに集中する。初日にDB・API契約を全員で揃えておくと、エージェント出力の一貫性も出る。
- **注意点**：5人が並列で別ファイルを触るため、マージの衝突や「誰がどのAPIを担当したか」の共有を短いサイクルで確認した方がよい。コアループ（チャット→分析→レポート→保存→マッチング一覧）を最優先にすれば、余裕があれば共鳴詳細・アバター編集などを足す形で回せる。
- **結論**：バイブコーディングなら5人いれば5日でデモまで届く見込みはある。契約を初日に固め、コアを先に繋ぐ優先順位だけ守ればよい。

---

## 2. 落とし穴（仕様・設計まわり）

### 2.1 マッチング API のコスト

- `GET /api/matching` で「全ユーザーの全スロット」と類似度を計算すると、ユーザー数 N で O(N×9) 程度になる。  
- ハッカソン規模なら全件計算でもよいが、「まず全件で実装し、必要なら pgvector の近似検索に寄せる」と方針を書いておくと、後で拡張しやすい。

---

## 3. 落とし穴（実装・運用まわり）

### 3.1 AI パイプライン

- **10往復**の会話だけで Big5 + 理想ベクトルを出すのは負荷が高い。分析プロンプトが未調整だと、結果が安定しない可能性がある。  
  → **分析精度**は「ある程度納得できるレベル」に留め、**デモでは事前に用意した会話ログで分析結果を固定**するなど、フォールバックを用意すると安心。

- **Gemini のレート制限・タイムアウト**  
  - `/api/ai/analyze` や `/api/matching/explain` が遅い・失敗した時の **ローディング表示・エラーメッセージ・リトライ**を最初から入れておく。  
  - デモ中に API が落ちたときの「見せ方」を決めておく（キャッシュ結果を見せる等）。

### 3.2 優先度と切り捨て

- 5日で全部やるより、**コアループを先に動かす**ことを推奨。  
  - **必須**：ログイン → ホーム → チャット（10往復）→ 分析 → レポート → スロット保存 → マッチング一覧。  
  - **余裕があれば**：共鳴詳細のAI解説、アバター編集、日替わりAIの多様なパターン。  
- 「共鳴詳細」は、**解説文を固定テキストや簡易テンプレートで代用**してもデモは成立する。AI解説は後追いでもよい。

### 3.3 役割分担

- **AI・プロンプト**は「対話用プロンプト」「分析（self / resonance / summary）」「共鳴解説」の3系統あり、1人だと負荷が集中しやすい。  
  - 分析パイプライン（会話→JSON）を**最優先**で担当し、共鳴解説は後回し or 他メンバーと分担するとよい。  
- **DB スキーマと API の入出力**は **1日目に確定**させないと、フロントとバックの結合で手戻りが増える。  
- 5人ともフルスタックなら、**「DB+API 2人 / フロント 2人 / AI+統合 1人」**のようにフェーズで役割を振り、途中で交代する形でもよい。

---

## 4. チェックリスト（初日に決めておくとよいこと）

- [ ] コアループの優先順位と、「やらないこと」のリスト
- [ ] デモ用のテストユーザー・事前投入スロットを誰がいつ用意するか

---

## 5. まとめ

- **コンセプトと技術スタックはハッカソン向き**で、仕様も実装に落とし込みやすいレベルまで書けている。
- 残りの落とし穴は **「マッチングAPIのコスト方針」「AI 依存と優先度」「役割分担」**。  
  **コアループ（チャット→分析→保存→マッチング）を最優先**で繋げば、5日・5人でもデモ可能な範囲に収まる。
